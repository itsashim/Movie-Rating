{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nexport function useMovies(query) {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [error, setError] = useState(\"\");\n  const key = \"91899472\";\n  useEffect(function () {\n    const controller = new AbortController();\n    async function movieList() {\n      try {\n        setError(\"\");\n        setLoader(true);\n        const movieFetch = await fetch(`http://www.omdbapi.com/?apikey=${key}&s=${query}`, {\n          signal: controller.signal\n        });\n        if (!movieFetch.ok) {\n          throw new Error(\"Error on loading\");\n        }\n        const json = await movieFetch.json();\n        if (json.Response === \"False\") throw new Error(\"Movie not found\");\n        setMovies(json.Search);\n        // console.log(json.Search);\n        setError(\"\");\n      } catch (err) {\n        if (!err.name !== \"AbortError\") {\n          setError(err.message);\n        }\n      } finally {\n        setLoader(false);\n      }\n    }\n    if (!query.length) {\n      setMovies([]);\n      setError(\"Search something great to watch!\");\n      return;\n    }\n    // handleCloseDetail();\n    movieList();\n    return function () {\n      controller.abort();\n    };\n  }, [query]);\n  return {\n    movies,\n    loader,\n    error\n  };\n}\n_s(useMovies, \"7NHqv6BsztoYI0c4u6zrvCCX3OM=\");","map":{"version":3,"names":["useEffect","useState","useMovies","query","_s","movies","setMovies","loader","setLoader","error","setError","key","controller","AbortController","movieList","movieFetch","fetch","signal","ok","Error","json","Response","Search","err","name","message","length","abort"],"sources":["/home/ashim/Desktop/All files/Work/reactProjects/Popcorn/src/useMovies.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\n\nexport function useMovies(query) {\n  const [movies, setMovies] = useState([]);\n  const [loader, setLoader] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const key = \"91899472\";\n\n  useEffect(\n    function () {\n      const controller = new AbortController();\n\n      async function movieList() {\n        try {\n          setError(\"\");\n          setLoader(true);\n          const movieFetch = await fetch(\n            `http://www.omdbapi.com/?apikey=${key}&s=${query}`,\n            { signal: controller.signal }\n          );\n          if (!movieFetch.ok) {\n            throw new Error(\"Error on loading\");\n          }\n          const json = await movieFetch.json();\n          if (json.Response === \"False\") throw new Error(\"Movie not found\");\n\n          setMovies(json.Search);\n          // console.log(json.Search);\n          setError(\"\");\n        } catch (err) {\n          if (!err.name !== \"AbortError\") {\n            setError(err.message);\n          }\n        } finally {\n          setLoader(false);\n        }\n      }\n      if (!query.length) {\n        setMovies([]);\n        setError(\"Search something great to watch!\");\n        return;\n      }\n      // handleCloseDetail();\n      movieList();\n\n      return function () {\n        controller.abort();\n      };\n    },\n    [query]\n  );\n\n  return { movies, loader, error };\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAO,SAASC,SAASA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC/B,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACQ,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMU,GAAG,GAAG,UAAU;EAEtBX,SAAS,CACP,YAAY;IACV,MAAMY,UAAU,GAAG,IAAIC,eAAe,CAAC,CAAC;IAExC,eAAeC,SAASA,CAAA,EAAG;MACzB,IAAI;QACFJ,QAAQ,CAAC,EAAE,CAAC;QACZF,SAAS,CAAC,IAAI,CAAC;QACf,MAAMO,UAAU,GAAG,MAAMC,KAAK,CAC3B,kCAAiCL,GAAI,MAAKR,KAAM,EAAC,EAClD;UAAEc,MAAM,EAAEL,UAAU,CAACK;QAAO,CAC9B,CAAC;QACD,IAAI,CAACF,UAAU,CAACG,EAAE,EAAE;UAClB,MAAM,IAAIC,KAAK,CAAC,kBAAkB,CAAC;QACrC;QACA,MAAMC,IAAI,GAAG,MAAML,UAAU,CAACK,IAAI,CAAC,CAAC;QACpC,IAAIA,IAAI,CAACC,QAAQ,KAAK,OAAO,EAAE,MAAM,IAAIF,KAAK,CAAC,iBAAiB,CAAC;QAEjEb,SAAS,CAACc,IAAI,CAACE,MAAM,CAAC;QACtB;QACAZ,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,CAAC,OAAOa,GAAG,EAAE;QACZ,IAAI,CAACA,GAAG,CAACC,IAAI,KAAK,YAAY,EAAE;UAC9Bd,QAAQ,CAACa,GAAG,CAACE,OAAO,CAAC;QACvB;MACF,CAAC,SAAS;QACRjB,SAAS,CAAC,KAAK,CAAC;MAClB;IACF;IACA,IAAI,CAACL,KAAK,CAACuB,MAAM,EAAE;MACjBpB,SAAS,CAAC,EAAE,CAAC;MACbI,QAAQ,CAAC,kCAAkC,CAAC;MAC5C;IACF;IACA;IACAI,SAAS,CAAC,CAAC;IAEX,OAAO,YAAY;MACjBF,UAAU,CAACe,KAAK,CAAC,CAAC;IACpB,CAAC;EACH,CAAC,EACD,CAACxB,KAAK,CACR,CAAC;EAED,OAAO;IAAEE,MAAM;IAAEE,MAAM;IAAEE;EAAM,CAAC;AAClC;AAACL,EAAA,CApDeF,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}